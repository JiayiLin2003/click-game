<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>点击得分小游戏</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: #f0f0f0;
      font-family: sans-serif;
    }
    #box {
      width: 80px;
      height: 80px;
      background: hotpink;
      position: absolute;
      top: 100px;
      left: 100px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.2s;
    }
    #score {
      position: fixed;
      top: 10px;
      left: 10px;
      font-size: 24px;
      font-weight: bold;
      color: #333;
    }
    #timer {
      position: fixed;
      top: 10px;
      right: 10px;
      font-size: 24px;
      font-weight: bold;
      color: #333;
    }
    .hit-effect {
      animation: pop 0.2s ease;
    }
    @keyframes pop {
      0% { transform: scale(1); }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }
  </style>
</head>
<body>
  <div id="score">得分：0</div>
  <div id="timer">时间：30</div>
  <div id="box"></div>

  <!-- 音效文件，可换成其他 mp3 链接或本地路径 -->
  <audio id="clickSound" src="audio/click.mp3" preload="auto"></audio>

  <script>
    let score = 0;
    let time = 30;
    let gameOver = false;

    const box = document.getElementById("box");
    const scoreDisplay = document.getElementById("score");
    const timerDisplay = document.getElementById("timer");
    const clickSound = document.getElementById("clickSound");

    // 点击事件
    box.addEventListener("click", () => {
      if (gameOver) return;

      // 播放音效
      clickSound.currentTime = 0;
      clickSound.play();
      // 加动画效果
      box.classList.add("hit-effect");
      setTimeout(() => box.classList.remove("hit-effect"), 200);

      // 计分 + 移动
      score++;
      scoreDisplay.textContent = "得分：" + score;
      const x = Math.random() * (window.innerWidth - box.offsetWidth);
      const y = Math.random() * (window.innerHeight - box.offsetHeight);
      box.style.left = x + "px";
      box.style.top = y + "px";
    });

    // 倒计时逻辑
    const countdown = setInterval(() => {
      time--;
      timerDisplay.textContent = "时间：" + time;

      if (time <= 0) {
        clearInterval(countdown);
        gameOver = true;
        alert("游戏结束！你的得分是：" + score);
        box.style.pointerEvents = "none"; // 禁止继续点击
      }
    }, 1000);
  </script>
</body>
</html>
